<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>easypay-配置管理</title>
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="format-detection" content="telephone=no">
	<link rel="stylesheet" href="../libs/layui/css/layui.css" media="all" />
	<link rel="stylesheet" href="../css/public.css" media="all" />
	<script type="text/javascript" src="../libs/layui/layui.js"></script>
</head>
<body class="childrenBody">
<table class="layui-table" id="pay_config_table">
</table>
<script>
	layui.use(['table'], function () {
		var table = layui.table;
		table.render({
			elem: '#pay_config_table',
			url: 'http://localhost:8081/payApp/list', // 后端接口地址
			method: 'GET', // 请求方式
			parseData: function (res) { // 数据格式解析函数
				return {
					code: res.code,
					count: res.data.total,
					data: res.data.list
				};
			},
			page: true,
			limits: [10, 15, 20, 25],
			limit: 13,
			request: {
				pageName: 'pageNo', // 页码的参数名称，默认：page
				limitName: 'pageSize' // 每页数据条数的参数名，默认：limit
			},
			cols: [[
				{ field: 'id', title: '应用编号', rowspan: 2 },
				{ field: 'name', title: '应用昵称', rowspan: 2 },
				{ field: 'status', title: '是否开启', rowspan: 2 },
				{ field: 'notifyUrl',title: '支付回调地址', rowspan: 2 },
				{ field: 'notifyRefundUrl', title: '退款回调地址', rowspan: 2 },
				{ align: 'center', colspan: 3, title: '支付宝' },
				{ align: 'center', colspan: 3, title: '微信' },
				{ fixed: 'right', align: 'center', title: '操作', rowspan: 2, templet: function (d) {
				       return '<button type="button" class="layui-btn layui-btn-xs layui-btn-normal">编辑</button>';
		        }}
			    ], [
				{ field: 'alipayPC', align: 'center',title: 'PC支付' , templet: function (d) {
					if(d.configCodes && d.configCodes.includes("alipay_pc")){
						return '<button type="button" class="layui-btn layui-btn-xs">查看</button>\n';
					}else{
						return '<button type="button" class="layui-btn layui-btn-xs layui-btn-danger">未设置</button>';
					}
				}
				},
				{ field: 'alipayFaceToFace', align: 'center',title: 'APP支付', templet: function (d) {
						if(d.configCodes && d.configCodes.includes("alipay_app")){
							return '<button type="button" class="layui-btn layui-btn-xs">查看</button>'
						}else{
							return '<button type="button" class="layui-btn layui-btn-xs layui-btn-danger">未设置</button>';
						}
					}
				} ,
				{ field: 'alipayMobile', align: 'center',title: 'WAP支付', templet: function (d) {
						if(d.configCodes && d.configCodes.includes("alipay_wap")){
							return '<button type="button" class="layui-btn layui-btn-xs">查看</button>';
						}else{
							return '<button type="button" class="layui-btn layui-btn-xs layui-btn-danger">未设置</button>';
						}
					}
				} ,
				{ field: 'wechatPC', align: 'center', title: 'PC支付' , templet: function (d) {
						if(d.configCodes && d.configCodes.includes("wx_pc")){
							return '<button type="button" class="layui-btn layui-btn-xs">查看</button>';
						}else{
							return '<button type="button" class="layui-btn layui-btn-xs layui-btn-danger">未设置</button>';
						}
					}
				},
				{ field: 'wechatFaceToFace',align: 'center', title: '面对面' , templet: function (d) {
					if(d.configCodes && d.configCodes.includes("wx_qr")){
						return '<button type="button" class="layui-btn layui-btn-xs">查看</button>';
					}else{
						return '<button type="button" class="layui-btn layui-btn-xs layui-btn-danger">未设置</button>';
					}
				}
				},
				{ field: 'wechatMobile', align: 'center', title: 'WAP支付' , templet: function (d) {
					if(d.configCodes && d.configCodes.includes("wx_wap")){
						return '<button type="button" class="layui-btn layui-btn-xs">查看</button>';
					}else{
						return '<button type="button" class="layui-btn layui-btn-xs layui-btn-danger">未设置</button>';
					}
				}
				}
			]]
		});
	});

</script>
</body>
</html>
